<%- include('../../partials/header.ejs') %>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-2">
      <%- include('../../partials/sidebar.ejs')  %>
    </div>
    <div class="col-md-10">
      <div class="row">
        <div class="col-md-8 offset-md-2">
          <div class="card card-body my-5">
            <h3>
              <%= title %>
            </h3>
            <div>
              <form action="/dashboard/edit-profile" method="POST" enctype="multipart/form-data">
                <% if(profile.profilePics) { %>
                <label for="">Profile Avatar</label>
                <img src="/uploads/<%= profile.profilePics %>" alt="<%= user.username  %>">
                <% } %>
                <div class="form-group mt-3">
                  <label for="profilePics">Updated upload Profile Image</label>
                  <input type="file" name="profilePics" id="profilePicsFile" accept="image/*" required />
                </div>
                <div class="form-group my-2">
                  <label for="name">Enter updated name</label>
                  <input type="text" class="form-control" name="name" placeholder="Enter your name" , id="name" value="<%= profile.name  %>" />
                </div>
                <div class="form-group my-2">
                  <label for="title">Enter updated title</label>
                  <input type="text" class="form-control <%= error.title ? 'is-invalid' : ''%>  " name="title" placeholder="Enter a short title" , id="title" value="<%= profile.title  %> " required />
                  <div class="invalid-feedback">
                    <%= error.title %>
                  </div>
                </div>
                <div class="form-group my-2">
                  <label for="bio">Enter updated bio</label>
                  <textarea type="text" class="form-control <%= error.bio ? 'is-invalid' : ''%> " name="bio" placeholder="Enter a short title" , id="bio" style="resize: none; height: 150px" required><%= profile.bio %></textarea>
                  <div class="invalid-feedback">
                    <%= error.bio %>
                  </div>
                </div>
                <div>
                  <p class="lead">Enter updated social links</p>
                  <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <span class="input-group-text">
                        <i class="fab fa-internet-explorer"></i>
                      </span>
                    </div>
                    <input type="text" class="form-control <%= error.website ? 'is-invalid' : ''%> " placeholder="Website" name="website" value="<%= profile.links.website ? profile.links.website : '' %> " />
                    <div class="invalid-feedback">
                      <%= error.website %>
                    </div>
                  </div>
                  <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <span class="input-group-text">
                        <i class="fab fa-facebook-square"></i>
                      </span>
                    </div>
                    <input type="text" class="form-control <%= error.facebook ? 'is-invalid' : ''%> " placeholder="Facebook" name="facebook" value="<%= profile.links.facebook ? profile.links.facebook : '' %> " />
                    <div class="invalid-feedback">
                      <%= error.facebook %>
                    </div>
                  </div>
                  <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <span class="input-group-text">
                        <i class="fab fa-twitter-square"></i>
                      </span>
                    </div>
                    <input type="text" class="form-control <%= error.twitter ? 'is-invalid' : ''%> " placeholder="Twitter" name="twitter" value="<%= profile.links.twitter ? profile.links.twitter : '' %> " />
                    <div class="invalid-feedback">
                      <%= error.twitter %>
                    </div>
                  </div>
                  <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <span class="input-group-text">
                        <i class="fab fa-github-square"></i>
                      </span>
                    </div>
                    <input type="text" class="form-control <%= error.github ? 'is-invalid' : ''%> " placeholder="Github" name="github" value="<%= profile.links.github ? profile.links.github : '' %> " />
                    <div class="invalid-feedback">
                      <%= error.github %>
                    </div>
                  </div>
                </div>
                <input type="submit" value="Update Profile" class="btn btn-outline-success" />
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('../../partials/footer.ejs') %>
</body>

</html>